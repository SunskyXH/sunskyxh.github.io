<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Bonfire</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="香香鸡的小窝">
<meta property="og:type" content="website">
<meta property="og:title" content="Bonfire">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Bonfire">
<meta property="og:description" content="香香鸡的小窝">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Bonfire">
<meta name="twitter:description" content="香香鸡的小窝">
  
    <link rel="alternate" href="/atom.xml" title="Bonfire" type="application/atom+xml">
  
  <link rel="icon" href="/http://olu3hx27t.bkt.clouddn.com/image/sun.png">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/home.css" >
  

  

  

</head>

<body>
  
    <header id="header">

  
    <div id="intrologo" class="intro-logo" style="background-position:center; background-repeat:no-repeat; background-image: url(); background-size: auto 100%;">
    <script>
        var imgUrls = "http://olu3hx27t.bkt.clouddn.com/image/solar.jpg".split(",");
        var random = Math.floor((Math.random() * imgUrls.length ));
        if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
          document.getElementById("intrologo").style.backgroundImage='url(' + imgUrls[random] + ')';
        } else {
          document.getElementById("intrologo").style.backgroundImage='url(/' + imgUrls[random] + ')';
        }
    </script>
  

    <canvas width="100%" height="100%"></canvas>
    <script>
      var c = document.getElementsByTagName('canvas')[0],
          x = c.getContext('2d'),
          w = window.innerWidth,
          h = window.innerHeight,
          pr = window.devicePixelRatio || 1,
          f = 90,
          q,
          m = Math,
          r = 0,
          u = m.PI*2,
          v = m.cos,
          z = m.random
      c.width = w*pr
      c.height = h*pr
      x.scale(pr, pr)
      x.globalAlpha = 0.6

      
    </script>
    

    
      <div id="homelogo" class="homelogo" style="background: rgba(255,255,255,1);"> 
    

        
          <div class="homelogoback"  style="border: 1px solid #404040;" >
            <h1><a href="#content" id="logo">Bonfire</a></h1>
            <h3>香香鸡的小窝</h3>
            <h5>SunskyXH</h5>
          </div>
        
    
    </div>
  </div>

  <!-- 自适应主页背景大图 -->
  
    <script>
        var img = new Image();
        var intrologodiv = document.getElementById("intrologo");
        img.src = intrologodiv.style.backgroundImage.replace('url(','').replace(')','').replace(/\"/gi, "");
        img.onload=function(){
          if (img.width / img.height <= document.body.clientWidth / document.body.clientHeight) {
            intrologodiv.style.backgroundSize = "100% auto";
          } else {
            intrologodiv.style.backgroundSize = "auto 100%";
          }
        };
    </script>
 

 <!-- home_logo_image居中 -->
 
    <script>
        var homelogodiv = document.getElementById("homelogo");
        if (document.all.homelogo.offsetWidth > document.body.clientWidth) {
          homelogodiv.style.width = document.body.clientWidth + "px";
          homelogodiv.style.marginLeft = document.body.clientWidth * -0.5 + "px";
        } else {
          homelogodiv.style.width = homelogodiv.clientWidth  + "px";
          homelogodiv.style.marginLeft = (homelogodiv.clientWidth)  * -0.5 + "px";
        }
    </script>
  

  <div class="intro-navigate">
      <p class="navigater-list">
        
          <a id="beautifont" class="main-nav-link" href="/">Home</a>
        
          <a id="beautifont" class="main-nav-link" href="/archives">Archives</a>
        
          <a id="beautifont" class="main-nav-link" href="/categories">Categories</a>
        
          <a id="beautifont" class="main-nav-link" href="/tags">Tags</a>
        
          <a id="beautifont" class="main-nav-link" href="/about">About</a>
        
          <a id="beautifont" class="main-nav-link" href="https://github.com/SunskyXH/">Github</a>
      </p>
  </div>

</header>
  
  <div id="container">
    <div id="wrap">
      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
  
    <article id="post-preact虚拟DOM算法探究"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/02/26/preact虚拟DOM算法探究/">preact虚拟DOM算法探究</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/02/26/preact虚拟DOM算法探究/" class="article-date">
	  <time datetime="2017-02-26T05:50:19.000Z" itemprop="datePublished">2017-02-26</time>
	</a>

      
    <a class="article-category-link" href="/categories/front-end/">front-end</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Preact"><a href="#Preact" class="headerlink" title="Preact"></a>Preact</h3><p><img src="http://olu3hx27t.bkt.clouddn.com/image/preact.png?imageView2/2/w/200/h/100" alt=""><br>Preact是一个react轻量化的库，整个库大小只有3kb，相比其他react轻量化的方案，如25kb的<a href="https://github.com/Lucifier129/react-lite" target="_blank" rel="external">react-lite</a>，preact确实在体积上有着很大的优势。官网也号称自己可能是最薄的一层虚拟DOM实现。<br>Preact也能兼容react的组件，只需要绑定一个preact-compat兼容层就能使用react组件；preact自己也有着规模不小的生态圈。<br>同时官网也宣称preact有着一个简单的可预测的diff算法实现使他成为最快的虚拟DOM框架之一。接下来本文将简单探究一下preact的虚拟DOM算法（先挖个坑）</p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Preact/">Preact</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Virtual-DOM/">Virtual DOM</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-GraphQL-Relay初探"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/02/22/GraphQL-Relay初探/">GraphQL+Relay初探</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/02/22/GraphQL-Relay初探/" class="article-date">
	  <time datetime="2017-02-21T16:32:09.000Z" itemprop="datePublished">2017-02-22</time>
	</a>

      
    <a class="article-category-link" href="/categories/front-end/">front-end</a><a class="article-category-link" href="/categories/front-end/back-end/">back-end</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="GraphQL简介"><a href="#GraphQL简介" class="headerlink" title="GraphQL简介"></a>GraphQL简介</h3><p><img src="http://olu3hx27t.bkt.clouddn.com/image/graphql.png" alt=""><br>GraphQL是Facebook开源的一套用于API的查询语言和runtime，其比较明显的特色在于用一次请求拿到所有想要的数据，并且返回的查询结果与想要查询的格式一致。同时也强调了强类型，减少冗余。</p>
<h3 id="Query-Mutation"><a href="#Query-Mutation" class="headerlink" title="Query/Mutation"></a>Query/Mutation</h3><p>(后文大部分例子皆来自/魔改自官方文档)<br>拿一个如下的简单的query来分析，这里的hero，name或者friends叫做<code>field</code>，field会返回type中定义的类型。</p>
<ul>
<li>field能通过例如<code>hero(name: &quot;R2-D2&quot;)</code>这样的方式来添加参数</li>
<li>多个同级同类型的field能通过例如<code>empireHero: hero</code> 来指定别名</li>
<li>多个filed要查询相同类型的数据时，可以用碎片(fragments)来复用相同的查询条件</li>
<li>当遇到多个查询需要带上不同的参数时，可以使用变量 </li>
<li><p>可以用指令(directive)去动态的改变query的结构和形状，如<code>@include(if: Boolean)</code> <code>@skip(if: Boolean)</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">query Hero($episode: Episode, $withFriends: Boolean!) &#123;</div><div class="line">  hero(episode: $episode) &#123;</div><div class="line">    name</div><div class="line">    friends @include(if: $withFriends) &#123;</div><div class="line">      name</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>GraphQL不只是提供了获得数据的方式，也提供了Mutation去修改服务端的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mutation CreateReviewForEpisode($ep: Episode!, $review: ReviewInput!) &#123;</div><div class="line">  createReview(episode: $ep, review: $review) &#123;</div><div class="line">    stars</div><div class="line">    commentary</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>GraphQL的schemas能定义接口和结合(union)的type，因此当query中的field在schema中对应这些type时，你需要内联碎片(inline fragments)去获取混合(concrete)type之下的数据。</p>
</li>
<li>当不知道服务器返回的type时，可以用meta field去代替,即在field前加上<code>__</code><br>例如 我们要查询带有’an’的数据，同时也不知道返回的数据的type，如果这个返回的数据的type是Droid，则会同时返回primaryFunction，如果为Human类型，则会返回height。此外返回结果里的__typename就会是这个查询结果的type的名字了(此例中可能为Human、Droid或者Starship)<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  search(text: &quot;an&quot;) &#123;</div><div class="line">    __typename</div><div class="line">    ... on Human &#123;</div><div class="line">      height</div><div class="line">    &#125;</div><div class="line">    ... on Droid &#123;</div><div class="line">      primaryFunction</div><div class="line">    &#125;</div><div class="line">    ... on Starship &#123;</div><div class="line">      name</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Types-Schemas"><a href="#Types-Schemas" class="headerlink" title="Types/Schemas"></a>Types/Schemas</h3><p>上一节中提到了许多次type，<code>type</code>即我们想要查询的field的类型，用于描述我们想要的数据。属于schema中最基础的一类</p>
<p>每一个<code>GarphQL Service</code>定义了一系列的type用于完全描述一系列可能会被查询到的数据。当query来的时候，GraphQL Service会根据schema去验证并执行。</p>
<p>GraphQL Service可以用<code>任何语言</code>去编写。同时还有一种叫做”GraphQL schema language”的语言用于描述schema。</p>
<p>一个简单的定义名为Character的type的例子</p>
<ul>
<li>name，appearsIn和length为该type的field</li>
<li>field的type后面的!表示该field不可为null</li>
<li>appearsIn: [Episode]表示对应这个appearsIn对应的是一个Episode类型的数据的数组</li>
<li>schema中的参数必须有名字，等号前的为参数的type，后面的为默认值</li>
<li><p>一些基本的type：<code>Int</code> <code>Float</code> <code>String</code> <code>Boolean</code> <code>ID</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">type Character &#123;</div><div class="line">    name: String!</div><div class="line">    appearsIn: [Episode]!</div><div class="line">    height(unit: LengthUnit = METER): Float</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>纯量(scalar)：经常作为query的叶结点，例如最前面的query例子里的name。可以用scalar去声明一个纯量 <code>scalar Date</code></p>
</li>
<li><p>枚举(enum)：枚举是一种特殊的纯量，他被限制为一个特定允许值的集合。这个特性可以拿来做验证或者利用一个有限集合的值来在type系统之间传送，可以用如下方式声明,Episode一定会为NEWHOPE、EMPIRE、和JEDI其中之一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">enum Episode &#123;</div><div class="line">  NEWHOPE</div><div class="line">  EMPIRE</div><div class="line">  JEDI</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>接口(interface)：像许多强类型语言一样，GraphQL也提供了接口，即包含了type必须实现的、确定的、field的集合的抽象的type。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">interface Character &#123;</div><div class="line">  id: ID!</div><div class="line">  name: String!</div><div class="line">  friends: [Character]</div><div class="line">  appearsIn: [Episode]!</div><div class="line">&#125;</div><div class="line">type Human implements Character &#123;</div><div class="line">  id: ID!</div><div class="line">  name: String!</div><div class="line">  friends: [Character]</div><div class="line">  appearsIn: [Episode]!</div><div class="line">  starships: [Starship]</div><div class="line">  totalCredits: Int</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>结合(union)：结合和接口非常类似，只是没有具体说明type之间的共同field，即没有将type的具体属性抽象出来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">union SearchResult = Human | Droid | Starship</div></pre></td></tr></table></figure>
</li>
<li><p>输入(input)：当你可能要传递整个对象(例如参数为一个对象时)，需要指定这个对象的type，就可以使用input。简单的把type换成input即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">input ReviewInput &#123;</div><div class="line">  stars: Int!</div><div class="line">  commentary: String</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>上面就是GraphQL中一些基础概念，更加进阶的概念会在以后的文章中提到。</p>
<h3 id="GraphQL对比RESTful"><a href="#GraphQL对比RESTful" class="headerlink" title="GraphQL对比RESTful"></a>GraphQL对比RESTful</h3><p>一万个人心中有一万种RESTful，RESTful虽然简单易理解，但是在深入开发的过程中其难扩展的缺点逐渐暴露了出来。</p>
<p>例如前面官网上的例子，GraphQL会直接返回这样的结果<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"data"</span>: &#123;</div><div class="line">        <span class="attr">"hero"</span>: &#123;</div><div class="line">            <span class="attr">"name"</span>: <span class="string">"Luke Skywalker"</span></div><div class="line">            <span class="string">"friends"</span>: [</div><div class="line">                &#123; <span class="attr">"name"</span>: <span class="string">"Han Solo"</span> &#125;,</div><div class="line">                &#123; <span class="attr">"name"</span>: <span class="string">"R2-D2"</span> &#125;,</div><div class="line">                &#123; <span class="attr">"name"</span>: <span class="string">"Leia Organa"</span> &#125;,</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>而RESTful，可能有人会这样写<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">GET /hero/ </div><div class="line">#之后遍历返回的信息，并发送新请求</div><div class="line">GET /hero/加上前一次查询返回的name/friends/</div></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">GET /heros?extend_query=friends</div></pre></td></tr></table></figure></p>
<p>这种情景下，RESTful可能会去发送多次请求，或者把请求魔改得不直观。GraphQL恰恰能很好的解决这类问题。</p>
<p>同时我们也看到了，GraphQL在一定程度上，查询请求是不依赖url的，这也许意味着当系统要添加新的功能，同时需要的数据能用之前的数据组装，就不需要新的后台接口了。</p>
<p>此外，若是后台能将数据拆分，提供大量的原子数据接口的话，那么对于产品版本迅速迭代将是一件非常有意义的事情。</p>
<h3 id="Relay简介"><a href="#Relay简介" class="headerlink" title="Relay简介"></a>Relay简介</h3><p><img src="http://olu3hx27t.bkt.clouddn.com/image/relay.png" alt=""><br>Relay是一个用于构建数据驱动的React应用的框架，结合GraphQL可以实现用GraphQL声明需要的数据，Relay指明在什么时机用什么方法去获取数据。<br>Relay还能综合所有query，利用高效的网络请求去获取你恰好需要的数据，也能结合GraphQL的mutation去修改客户端/服务端上的数据，并且同时提供了自动化的连贯的数据更新机制和错误处理机制。</p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GraphQL/">GraphQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Relay/">Relay</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-vue自定义指令实现Highlight-js高亮代码"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/09/10/vue自定义指令实现Highlight-js高亮代码/">vue自定义指令实现Highlight.js高亮代码</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/09/10/vue自定义指令实现Highlight-js高亮代码/" class="article-date">
	  <time datetime="2016-09-10T14:58:05.000Z" itemprop="datePublished">2016-09-10</time>
	</a>

      
    <a class="article-category-link" href="/categories/front-end/">front-end</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>在Vue项目中直接引入highlight.js会遇到一些问题，<a href="https://forum.vuejs.org/topic/3514/getting-highlightjs-to-work-with-vue-router" target="_blank" rel="external">官方论坛</a>上的一篇帖子给出了出现这种现象的原因，即vue-router在改变路由的时候会清除渲染,并移除事件<br>参考了答案后，得出了用vue的自定义指令(directive)解决问题的方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> hljs <span class="keyword">from</span> <span class="string">'highlight.js'</span></div><div class="line"><span class="comment">//还需要引入hljs的主题css，此处略过</span></div><div class="line">Vue.directive(<span class="string">'highlight'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> blocks = <span class="keyword">this</span>.el.querySelectorAll(<span class="string">'pre code'</span>)</div><div class="line">    <span class="built_in">Array</span>.prototype.forEach.call(blocks, hljs.highlightBlock)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>补充：Vue 2中，自定义指令的API发生了一些变化，需要用这样的写法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Vue.directive(<span class="string">'highlight'</span>, &#123;</div><div class="line">    <span class="attr">bind</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">        <span class="keyword">let</span> blocks = <span class="keyword">this</span>.el.querySelectorAll(<span class="string">'pre code'</span>)</div><div class="line">        <span class="built_in">Array</span>.prototype.forEach.call(blocks, hljs.highlightBlock)</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>设置好自定义指令后，在标签里使用指令<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-highlight</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">pre</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">'可以在这里手动指定语言'</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">code</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>补充2: 利用上面的原理，我写了一个简单的插件<a href="https://github.com/SunskyXH/vue-hljs" target="_blank" rel="external">vue-hljs</a>，安装完并引入依赖以后，简单的<code>Vue.use(vueHljs)</code>就可以使用v-highlight去高亮代码了。</p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-The-State-of-Vue-自译"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/08/20/The-State-of-Vue-自译/">The State of Vue(自译)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/08/20/The-State-of-Vue-自译/" class="article-date">
	  <time datetime="2016-08-20T15:11:09.000Z" itemprop="datePublished">2016-08-20</time>
	</a>

      
    <a class="article-category-link" href="/categories/front-end/">front-end</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h3 id="2-0-is-now-in-RC"><a href="#2-0-is-now-in-RC" class="headerlink" title="2.0 is now in RC!"></a>2.0 is now in RC!</h3><p>We announced Vue 2.0 back in April,<br>and today I am very excited to release the first release candidate for Vue 2.0!<br>From this stage on we will be in API freeze and there will be no more breaking changes before official release.</p>
</blockquote>
<h3 id="2-0-正在候选发布-RC-！"><a href="#2-0-正在候选发布-RC-！" class="headerlink" title="2.0 正在候选发布(RC)！"></a>2.0 正在候选发布(RC)！</h3><p>我们在四月的时候宣布了<a href="https://medium.com/the-vue-point/announcing-vue-js-2-0-8af1bde7ab9" target="_blank" rel="external">Vue 2.0的消息</a>,<br>并且在今天我将非常激动地发布<a href="https://github.com/vuejs/vue/releases/tag/v2.0.0-rc.1" target="_blank" rel="external">Vue 2.0的第一个RC版本！</a><br>从这个阶段起我们将会API冻结,并且在官方版本之前将会有更多突破性的改动.<br><br></p>
<blockquote>
<p>All the official supporting libraries, e.g. vue-router, vuex, vue-loader &amp; vueify have all been updated to work with Vue 2.0.<br>This means the 2.0 stack is technically complete — the only thing we are waiting for is documentation and release-related logistics.<br>Despite that, we have prepared a Vue 2.0 RC Starter Resources guide to help those feeling adventurous jump right into 2.0 today.</p>
</blockquote>
<p>所有官方支持的库，例如vue-router,vuex,vue-loader和vueify都已经升级到能和Vue 2.0一起使用。<br>这意味着2.0在技术层面已经完善——我们唯一在等待的就是文档和发布相关的后续工作<br>尽管如此，我们准备了<a href="https://github.com/vuejs/vue/wiki/Vue-2.0-RC-Starter-Resources" target="_blank" rel="external">Vue 2.0 RC Starter Resources</a><br>指南来帮助那些想要探险的人跳入2.0的大坑。<br><br></p>
<blockquote>
<h3 id="Vue-js-in-the-Industry"><a href="#Vue-js-in-the-Industry" class="headerlink" title="Vue.js in the Industry"></a>Vue.js in the Industry</h3><p>I recently answered the question “How Popular is Vue.js in the Industry?” on Quora.<br>You can read about the full answer here, but here are some highlights:</p>
<ul>
<li>Based on the combined metrics including Google Trends, GitHub star history &amp; stats.js.org statistics,<br>Vue.js has consistently been one of the fastest growing libraries in the past few months and there’s currently no sign of slowing down.</li>
<li>1 million+ downloads on NPM at 125k~150k per month<br></li>
<li>1.5 million page views &amp; 150k monthly unique visitors on vuejs.org<br></li>
<li>36,000+ weekly active vue-devtool users<br></li>
<li>Used by great open source projects: Laravel, GitLab, PageKit &amp; more.<br></li>
<li>Strong international adoption: biggest Chinese public companies (Alibaba, Baidu, Tencent), biggest Chinese unicorns (private companies with $1B+ valuation — Xiaomi, Didi Chuxing, DJI, Ele.me), established enterprises in Japan/UK (Line, Nintendo, Sainsbury’s)</li>
</ul>
</blockquote>
<h3 id="业界的Vue-js"><a href="#业界的Vue-js" class="headerlink" title="业界的Vue.js"></a>业界的Vue.js</h3><p>我最近在Quora上回答了“Vue在业界有多流行?”的问题. 你可以在这里看到全部的答案, 当然你也可以只看以下几点:</p>
<ul>
<li>根据结合了包括 Google Trends, Github star历史记录以及 stats.js.org统计数据在内的度量结果, Vue.js在过去几个月内连续保持增长最快速的库之一,并且现在毫无减弱的迹象.</li>
<li>NPM上有100万次以上的下载, 每月12.5到15万.</li>
<li>vuejs.org访问量达150万, 每月有15万不同的访客.</li>
<li>vue-devtool 每月有36万以上的活跃用户.</li>
<li>被大型开源项目所用：例如 Laravel, GitLab, PageKit 等等.</li>
<li>国际上广为采用: 例如 中国最大的公司(阿里巴巴,腾讯,百度),中国最大的独角兽公司(具有一亿以上资产的私有公司——小米,滴滴出行,大疆,饿了么),设立在日本/英国的企业(Line,任天堂,森宝利)<br></li>
</ul>
<blockquote>
<h3 id="Patreon-Campaign-Going-Strong"><a href="#Patreon-Campaign-Going-Strong" class="headerlink" title="Patreon Campaign Going Strong"></a>Patreon Campaign Going Strong</h3><p>The Vue.js patreon campign now has over $8,000 monthly pledge from the community and sponsors.<br>It is absolutely amazing to be able to work full-time on an open source project that I am genuinely passionate about, and for that I am forever grateful to all the supporters.<br></p>
<h3 id="Patreon-Campaign-让我们更加壮大"><a href="#Patreon-Campaign-让我们更加壮大" class="headerlink" title="Patreon Campaign 让我们更加壮大"></a>Patreon Campaign 让我们更加壮大</h3><p>Vue.js patreon campign现在已经有了每月从社区和赞助者处得到的$8,000的赞助.<br>能全职投入到一个我真正为之狂热的开源项目中当然是令人惊讶的, 因此我永远感谢那些支持我的人.<br>I think the Vue.js patreon campaign is an interesting experiment on sustainable financial models for open source projects that demand serious commitment: it’s open source not as the by-product of a commercial company trying to help with recruiting — the only goal of the project is to create something that help more people get more things done in an easier and faster way. It’s sustained not by revenue that possibly has nothing to do with the project itself, but rather directly by those who use it in their everyday work. To be honest, I don’t think this is a model that is easy to pull off (for that I am very lucky), but I do hope it can serve as a valuable case study for those who are interested in more sustainable open source work.</p>
</blockquote>
<p>我认为Vue.js patreon campign 是一个对需要严肃承诺的开源项目的可持续金融模型上有趣的实验: 它不是因为作为商业公司用来招聘的副产品而开源——这个项目的唯一目标就是创造一些能够帮助更多的人用更简单快捷的方法做更多事情的东西. 它可持续不是因为那些可能对项目本身无益的收入,而是直接因为那些每天都在工作中都在用到它的人.讲真, 我不认为这是一个能轻松推广的模型(所以说我很幸运), 但我衷心希望它能够作为一个对致力于更加可持续开源项目的人来说有价值的案例而服务.</p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  


</section>
        
      </div>
      
        <div align="center" style="margin-top: 30px;"><hr class="hr" style="margin:0px; height:3px;"></div>
      
      <footer id="footer">
  

  <div class="container">
      <div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2017 Bonfire All Rights Reserved.</p>
	      <p id="copyRightCn">SunskyXH hold copyright</p>
	</div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>


  <script src="/js/home.js"></script>





<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-92411339-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Bonfire
          </div>
          <div class="panel-body">
            Copyright © 2017 SunskyXH All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  

	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>


</body>
</html>